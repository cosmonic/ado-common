parameters:
  - name: workingDirectory
    type: string
    default: "./"

steps:
  - template: rust-fmt-clippy.yml
    parameters:
      workingDirectory: ${{ parameters.workingDirectory }}

  - script: cargo test --verbose --doc -- --nocapture
    displayName: Run tests
    workingDirectory: ${{ parameters.workingDirectory }}
